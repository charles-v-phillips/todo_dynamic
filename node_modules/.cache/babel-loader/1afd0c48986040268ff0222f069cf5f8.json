{"ast":null,"code":"export function makeParticipantUpdateHandler(setParticipants) {\n  return ev => {\n    const participant = ev.participant;\n    if (ev.action === \"participant-left\") {\n      setParticipants(participants => {\n        const newParticipants = {\n          ...participants\n        };\n        delete newParticipants[participant.session_id];\n        return newParticipants;\n      });\n    } else {\n      setParticipants(participants => ({\n        ...participants,\n        [participant.session_id]: dailyParticipantInfo(participant)\n      }));\n    }\n  };\n}\nexport function dailyParticipantInfo(participant) {\n  return {\n    name: participant.user_name,\n    id: participant.session_id,\n    joinedAt: participant.joined_at && participant.joined_at.valueOf(),\n    isLocal: participant.local\n  };\n}","map":{"version":3,"names":["makeParticipantUpdateHandler","setParticipants","ev","participant","action","participants","newParticipants","session_id","dailyParticipantInfo","name","user_name","id","joinedAt","joined_at","valueOf","isLocal","local"],"sources":["/Users/charlesphillips/berg/sixth-st-coding-challenge/src/utils/daily.js"],"sourcesContent":["export function makeParticipantUpdateHandler(setParticipants) {\n  return (ev) => {\n    const participant = ev.participant;\n    if (ev.action === \"participant-left\") {\n      setParticipants((participants) => {\n        const newParticipants = { ...participants };\n        delete newParticipants[participant.session_id];\n        return newParticipants;\n      });\n    } else {\n      setParticipants((participants) => ({\n        ...participants,\n        [participant.session_id]: dailyParticipantInfo(participant),\n      }));\n    }\n  };\n}\n\nexport function dailyParticipantInfo(participant) {\n  return {\n    name: participant.user_name,\n    id: participant.session_id,\n    joinedAt: participant.joined_at && participant.joined_at.valueOf(),\n    isLocal: participant.local,\n  };\n}\n"],"mappings":"AAAA,OAAO,SAASA,4BAA4BA,CAACC,eAAe,EAAE;EAC5D,OAAQC,EAAE,IAAK;IACb,MAAMC,WAAW,GAAGD,EAAE,CAACC,WAAW;IAClC,IAAID,EAAE,CAACE,MAAM,KAAK,kBAAkB,EAAE;MACpCH,eAAe,CAAEI,YAAY,IAAK;QAChC,MAAMC,eAAe,GAAG;UAAE,GAAGD;QAAa,CAAC;QAC3C,OAAOC,eAAe,CAACH,WAAW,CAACI,UAAU,CAAC;QAC9C,OAAOD,eAAe;MACxB,CAAC,CAAC;IACJ,CAAC,MAAM;MACLL,eAAe,CAAEI,YAAY,KAAM;QACjC,GAAGA,YAAY;QACf,CAACF,WAAW,CAACI,UAAU,GAAGC,oBAAoB,CAACL,WAAW;MAC5D,CAAC,CAAC,CAAC;IACL;EACF,CAAC;AACH;AAEA,OAAO,SAASK,oBAAoBA,CAACL,WAAW,EAAE;EAChD,OAAO;IACLM,IAAI,EAAEN,WAAW,CAACO,SAAS;IAC3BC,EAAE,EAAER,WAAW,CAACI,UAAU;IAC1BK,QAAQ,EAAET,WAAW,CAACU,SAAS,IAAIV,WAAW,CAACU,SAAS,CAACC,OAAO,CAAC,CAAC;IAClEC,OAAO,EAAEZ,WAAW,CAACa;EACvB,CAAC;AACH","ignoreList":[]},"metadata":{},"sourceType":"module"}